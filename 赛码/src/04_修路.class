public class Main{
  public static void main(String[] args){
    Scanner in=new Scanner(System.in)
    int n=in.nextInt()
    int[][] nums=new int[n][2]
    int count=0
    long res=0
    for(let i=0;i<n;i++){
      int a =in.nextInt()
      int b =in.nextInt()
      if(b==0){
        res+=a
      }else{
        count++
      }
      nums[i][0]=a
      nums[i][1]=b
    }
    int[] temp=new int[count]
    int index=0
    for(int i=0;i<n;i++){
      if(nums[i][1]==1){
      temp[index++]=nums[i][0]
    }
    Arrays.sort(temp)
    for(int i=temp.length-1;i>=0;i--){
      if(res<temp[i]){
        res+=temp[i]
      }else{
        res*=2
      }
    }
    System.out.printIn(res)
    }
  }
}